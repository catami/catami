{% extends "base.html" %}

{% block sidebar %}
  <div id="sidebar-nav" class="span3" style="padding-left:10px;">

    <h1>Campaign</h1>  
    <div class="well well-small" style="align:center;">

      <p class="lead">{{campaign_object.short_name}}</p>
      <p>options</p>
    </div><!--/.well -->

  </div>
{% endblock %}
     
{% block content_header %}
  <ul class="breadcrumb">
  <li><a href="/data">Data</a>  
  <li><span class="divider">></span><a href="/data/campaigns/"> Campaign List</a></li>
  <li class="active"><span class="divider">></span> {{campaign_object.short_name}}</li>
  </ul>
{% endblock %}



{% block content %}
  {% if campaign_object %}
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Start Date</th>
        <th>End Date</th>
        <th>Researchers</th>
        <th>Publications</th>
        <th>Grant</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
          <tr>
            <td>{{campaign_object.date_start}}</td>
            <td>{{campaign_object.date_end}}</td>
            <td>{{campaign_object.associated_researchers}}</td>
            <td>{{campaign_object.associated_publications}}</td>
            <td>{{campaign_object.associated_research_grant}}</td>
            <td>{{campaign_object.description}}</td>
          <tr>
    </tbody>
  </table>
  {% else %}
      <p>This campaign seems to be broken or missing...</p>
  {% endif %}

   <div class="accordion" id="accordion1">
    <div class="accordion-group">
      <div class="accordion-heading">
        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion1" href="#collapseOne">
          GeoJSON Data
        </a>
      </div>
      <div id="collapseOne" class="accordion-body collapse out">
        <div class="accordion-inner">
          {{campaign_as_geojson}}
        </div>
      </div>
    </div>
  </div>

  <h3>Campaign Deployments</h3>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Start Time</th>
        <th>Start Time</th>
        <th>End Time</th>
        <th>Min Depth</th>
        <th>Max Depth</th>
        <th>Mission Aim</th>
        <th>Geolocation</th>
      </tr>
    </thead>
    <tbody>

        {% for auv_deployment in auv_deployment_list %}
          <tr>
          	<td>AUV</td>
            <td>{{auv_deployment.start_time_stamp}}</td>
            <td>{{auv_deployment.end_time_stamp}}</td>
            <td>{{auv_deployment.min_depth}}</td>
            <td>{{auv_deployment.max_depth}}</td>
            <td>{{auv_deployment.mission_aim}}</td>
            <td>{{auv_deployment.start_position}}</td>
            <td><a href="/data/auvdeployments/{{auv_deployment.id}}" class="btn btn-large btn-primary">Detail</a> 
          <tr>
        {% endfor %}
        {% for bruv_deployment in bruv_deployment_list %}
          <tr>
          	<td>BRUV</td>
            <td>{{bruv_deployment.start_time_stamp}}</td>
            <td>{{bruv_deployment.end_time_stamp}}</td>
            <td>{{bruv_deployment.min_depth}}</td>
            <td>{{bruv_deployment.max_depth}}</td>
            <td>{{bruv_deployment.mission_aim}}</td>
            <td>{{bruv_deployment.start_position}}</td>
            <td><a href="/data/bruv_deployments/{{bruv_deployment.id}}" class="btn btn-large btn-primary">Detail</a> 
          <tr>
        {% endfor %}
        {% for dov_deployment in dov_deployment_list %}
          <tr>
          	<td>DOV</td>
            <td>{{dov_deployment.start_time_stamp}}</td>
            <td>{{dov_deployment.end_time_stamp}}</td>
            <td>{{dov_deployment.min_depth}}</td>
            <td>{{dov_deployment.max_depth}}</td>
            <td>{{dov_deployment.mission_aim}}</td>
            <td>{{dov_deployment.start_position}}</td>
            <td><a href="/data/dov_deployments/{{dov_deployment.id}}" class="btn btn-large btn-primary">Detail</a> 
          <tr>
        {% endfor %}
    </tbody>
  </table>
{% endblock %}
